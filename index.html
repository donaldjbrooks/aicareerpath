<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Career Transition Plan</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            /* Blue palette */
            --primary-color: #1e3a8a;    /* Deep blue */
            --secondary-color: #3b82f6;  /* Vibrant blue */
            --accent-color: #60a5fa;     /* Light blue */
            --background-color: #f0f7ff; /* Very light blue */
            --card-background: #ffffff;  /* White */
            --border-color: #bfdbfe;     /* Pale blue */
            --success-color: #15803d;    /* Green (kept for success contrast) */
            --warning-color: #d97706;    /* Amber (kept for warning contrast) */
            --error-color: #b91c1c;      /* Red (kept for error contrast) */
            --text-color: #1e3a8a;       /* Deep blue */
            --text-light: #64748b;      /* Slate blue */
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--background-color);
        }

        h1, h2, h3 {
            color: var(--primary-color);
        }

        h1 {
            text-align: center;
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 30px;
        }

        .section {
            background-color: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
            color: var(--primary-color);
        }

        input[type="text"], textarea, select, select[multiple] {
            width: 100%;
            padding: 10px;
            margin-top: 7px;
            border: 1.5px solid var(--border-color);
            border-radius: 6px;
            box-sizing: border-box;
            transition: border-color 0.2s;
            color: var(--text-color);
        }

        input[type="text"]:focus, textarea:focus, select:focus {
            border-color: var(--secondary-color);
            outline: none;
        }

        textarea {
            height: 100px;
            resize: vertical;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table, th, td {
            border: 1.5px solid var(--border-color);
        }

        th, td {
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: var(--background-color);
            color: var(--primary-color);
        }

        .instructions {
            font-style: italic;
            color: var(--text-light);
            margin-top: 5px;
            display: block;
        }

        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: var(--primary-color);
        }

        .add-button {
            background-color: var(--success-color);
        }

        .add-button:hover {
            background-color: #166534;
        }

        .remove-button {
            background-color: var(--error-color);
        }

        .remove-button:hover {
            background-color: #991b1b;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px;
            border-radius: 6px;
            color: white;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .notification.success {
            background-color: var(--success-color);
        }

        .notification.error {
            background-color: var(--error-color);
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <h1>Career Transition Plan Template</h1>
    
    <div class="section" style="background-color: var(--accent-color); color: var(--primary-color);">
        <h2>Privacy Notice</h2>
        <p>We respect your privacy. The data you enter into this form is stored *only* on your local computer within your 
            browser's storage. We do not collect, transmit, or sell any of your personal information. This ensures your data remains private and under your control.
        </p>
    </div>

    <div class="section">
        <h2>Instructions</h2>
        <p>Welcome to the AI Career Transition Plan! Fill out each section below to plan your career move strategically.</p>
    </div>

    <div class="section">
        <h2>Personal Information</h2>
        <label for="name">Name: <span class="instructions">Enter your full name</span></label>
        <input type="text" id="name" required>

        <label for="role">Current Role/Profession: <span class="instructions">What is your current job title?</span></label>
        <input type="text" id="role">

        <label for="industry">Field/Industry: <span class="instructions">What industry do you work in?</span></label>
        <input type="text" id="industry">

        <label>Period Covered: <span class="instructions">Set timeframe (typically 6-12 months)</span></label>
        <input type="date" id="start-date"> to
        <input type="date" id="end-date">
    </div>

    <div class="section">
        <h2>Career Goals</h2>
        <label for="short-term">Short-term (6-12 months): <span class="instructions">What do you want to achieve?</span></label>
        <textarea id="short-term"></textarea>

        <label for="long-term">Long-term (2-5 years): <span class="instructions">Where do you see yourself?</span></label>
        <textarea id="long-term"></textarea>

        <label>Core Values (Choose 3): <span class="instructions">What matters most in your work?</span></label>
        <select multiple id="core-values">
            <option value="creativity">Creativity</option>
            <option value="impact">Impact</option>
            <option value="security">Security</option>
            <option value="learning">Continuous Learning</option>
            <option value="collaboration">Collaboration</option>
            <option value="leadership">Leadership</option>
            <option value="autonomy">Autonomy</option>
            <option value="recognition">Recognition</option>
            <option value="challenge">Challenge</option>
        </select>

        <label for="elevator-pitch">Elevator Pitch: <span class="instructions">Summarize your goals (2-3 sentences)</span></label>
        <textarea id="elevator-pitch" placeholder="e.g., I am a marketing professional..."></textarea>

        <label for="stop-doing">What will you STOP doing? <span class="instructions">Activities not aiding your goals</span></label>
        <textarea id="stop-doing" placeholder="List activities to eliminate"></textarea>
    </div>

    <div class="section">
        <h2>Skills Assessment</h2>
        <table id="skills-table">
            <thead>
                <tr>
                    <th>Current Skills <span class="instructions">Existing skills</span></th>
                    <th>Proficiency (1-5) <span class="instructions">1=Beginner, 5=Expert</span></th>
                    <th>Skills to Develop <span class="instructions">New skills needed</span></th>
                    <th>Priority <span class="instructions">Importance level</span></th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <button class="add-button" onclick="addSkillRow()">Add Skill</button>
    </div>

    <div class="section">
        <h2>Learning and Development Plan</h2>
        <div id="skills-container"></div>
        <button class="add-button" onclick="addSkill()">Add Another Skill</button>
    </div>

    <div class="section">
        <h2>Resources and Support</h2>
        <label for="mentors">Potential Mentors/Networks: <span class="instructions">List support resources</span></label>
        <textarea id="mentors"></textarea>

        <label for="budget">Budget Allocation: <span class="instructions">Estimate training costs</span></label>
        <textarea id="budget"></textarea>
    </div>

    <div class="section">
        <h2>Progress Tracking</h2>
        <label>Checkpoint Dates: <span class="instructions">Set review dates</span></label>
        <div><label>30-day review: <input type="date" id="review-30"></label></div>
        <div><label>90-day review: <input type="date" id="review-90"></label></div>
        <div><label>Mid-point review: <input type="date" id="review-mid"></label></div>
        <div><label>Final review: <input type="date" id="review-final"></label></div>

        <label for="reflection">Reflection Notes: <span class="instructions">Record progress insights</span></label>
        <textarea id="reflection"></textarea>
    </div>

    <div class="section">
        <h2>Risk Assessment and Mitigation</h2>
        <label>What if you don't get the promotion? <span class="instructions">Alternative steps</span></label>
        <textarea id="no-promotion"></textarea>
        
        <label>What if you can't find a mentor? <span class="instructions">Alternatives</span></label>
        <textarea id="no-mentor"></textarea>
        
        <label>What if you lose your job? <span class="instructions">Steps to gain employment</span></label>
        <textarea id="job-loss"></textarea>
    </div>

    <div class="section">
        <h2>Additional Notes</h2>
        <label for="challenges">Challenges/Obstacles: <span class="instructions">Potential hurdles</span></label>
        <textarea id="challenges"></textarea>
        
        <label for="motivation">Motivation/Inspiration: <span class="instructions">What keeps you going?</span></label>
        <textarea id="motivation"></textarea>
    </div>

    <div class="button-container">
        <input type="file" id="fileInput" style="display: none;" accept=".json">
        <button onclick="saveForm()">Save</button>
        <button onclick="loadForm()">Load</button>
        <button onclick="document.getElementById('fileInput').click()">Import</button>
        <button onclick="exportForm()">Export JSON</button>
        <button onclick="exportToPDF()">Export PDF</button>
        <button onclick="generatePDF()">Generate Printable View</button>
    </div>

    <div id="pdf-preview" style="display: none;"></div>

    <!-- Keep all HTML and CSS from previous version unchanged -->
<!-- Replace only the script section with this -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    const { jsPDF } = window.jspdf;

    function showNotification(message, type) {
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        document.body.appendChild(notification);
        setTimeout(() => {
            notification.style.opacity = '0';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }

    function getFormData() {
        try {
            const formData = {};
            document.querySelectorAll('input, textarea, select').forEach(el => {
                if (el.id) {
                    formData[el.id] = el.type === 'select-multiple' 
                        ? Array.from(el.selectedOptions).map(opt => opt.value)
                        : el.value;
                }
            });
            return formData;
        } catch (error) {
            showNotification('Error collecting form data', 'error');
            throw error;
        }
    }

    function setFormValues(values) {
        try {
            Object.entries(values).forEach(([key, value]) => {
                const el = document.getElementById(key);
                if (el) {
                    if (el.type === 'select-multiple') {
                        Array.from(el.options).forEach(opt => {
                            opt.selected = Array.isArray(value) && value.includes(opt.value);
                        });
                    } else {
                        el.value = value;
                    }
                }
            });
        } catch (error) {
            showNotification('Error setting form values', 'error');
            throw error;
        }
    }

    function formatDate(dateString) {
        if (!dateString) return "Not set";
        return new Date(dateString).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    }

    function saveForm() {
        try {
            const data = getFormData();
            localStorage.setItem('formValues', JSON.stringify(data));
            showNotification('Form saved successfully', 'success');
        } catch (error) {
            showNotification('Error saving form', 'error');
            console.error('Save error:', error);
        }
    }

    function loadForm() {
        try {
            const data = localStorage.getItem('formValues');
            if (!data) throw new Error('No saved data');
            setFormValues(JSON.parse(data));
            showNotification('Form loaded successfully', 'success');
        } catch (error) {
            showNotification('No saved data or error loading', 'error');
            console.error('Load error:', error);
        }
    }

    function exportForm() {
        try {
            const data = getFormData();
            const json = JSON.stringify(data);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'career_plan.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            showNotification('JSON exported successfully', 'success');
        } catch (error) {
            showNotification('Error exporting JSON', 'error');
            console.error('Export error:', error);
        }
    }

    function exportToPDF() {
        try {
            const formData = getFormData();
            const doc = new jsPDF();
            let yPos = 20;

            // Helper function to handle page breaks and text wrapping
            function addText(text, x, y, options = {}) {
                const maxWidth = options.maxWidth || 170;
                const lineHeight = options.lineHeight || 7;
                const splitText = doc.splitTextToSize(text, maxWidth);
                splitText.forEach(line => {
                    if (yPos > 280) {  // Check for page break
                        doc.addPage();
                        yPos = 20;
                    }
                    doc.text(line, x, yPos);
                    yPos += lineHeight;
                });
                return yPos;
            }

            // Title
            doc.setFontSize(20);
            doc.setTextColor('#1e3a8a');
            addText('Career Transition Plan', 105, yPos, { align: 'center' });
            yPos += 15;

            // Personal Information
            doc.setFontSize(16);
            addText('Personal Information', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            addText(`Name: ${formData.name || 'Not provided'}`, 20, yPos);
            addText(`Role: ${formData.role || 'Not provided'}`, 20, yPos);
            addText(`Industry: ${formData.industry || 'Not provided'}`, 20, yPos);
            addText(`Period: ${formatDate(formData['start-date'])} to ${formatDate(formData['end-date'])}`, 20, yPos);
            yPos += 15;

            // Career Goals
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Career Goals', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            addText('Short-term (6-12 months):', 20, yPos);
            yPos = addText(formData['short-term'] || 'Not provided', 30, yPos);
            addText('Long-term (2-5 years):', 20, yPos);
            yPos = addText(formData['long-term'] || 'Not provided', 30, yPos);
            addText(`Core Values: ${formData['core-values'].join(', ') || 'None selected'}`, 20, yPos);
            addText('Elevator Pitch:', 20, yPos);
            yPos = addText(formData['elevator-pitch'] || 'Not provided', 30, yPos);
            addText('Stop Doing:', 20, yPos);
            yPos = addText(formData['stop-doing'] || 'Not provided', 30, yPos);
            yPos += 15;

            // Skills Assessment
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Skills Assessment', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            document.querySelectorAll('#skills-table tbody tr').forEach((row, i) => {
                const current = row.cells[0].querySelector('input').value || 'Not specified';
                const prof = row.cells[1].querySelector('select').value || 'N/A';
                const develop = row.cells[2].querySelector('input').value || 'Not specified';
                const priority = row.cells[3].querySelector('select').value || 'N/A';
                addText(`${i+1}. ${current} (Prof: ${prof}) - To Develop: ${develop} (Priority: ${priority})`, 20, yPos);
            });
            yPos += 15;

            // Learning and Development Plan
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Learning and Development Plan', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            document.querySelectorAll('#skills-container .skill-section').forEach((skill, i) => {
                const name = skill.querySelector('h3 input').value || 'Not specified';
                const activity = skill.querySelector('div:nth-child(2) input').value || 'Not specified';
                const resources = skill.querySelector('div:nth-child(3) input').value || 'Not specified';
                const time = skill.querySelector('div:nth-child(4) input').value || 'Not specified';
                const start = formatDate(skill.querySelector('div:nth-child(5) input').value);
                const end = formatDate(skill.querySelector('div:nth-child(6) input').value);
                const notes = skill.querySelector('div:nth-child(7) textarea').value || 'Not provided';
                const measures = Array.from(skill.querySelector('div:nth-child(8) select').selectedOptions)
                    .map(opt => opt.value).join(', ') || 'None selected';

                addText(`Skill ${i+1}: ${name}`, 20, yPos);
                addText(`Activity: ${activity}`, 30, yPos);
                addText(`Resources: ${resources}`, 30, yPos);
                addText(`Estimated Time: ${time}`, 30, yPos);
                addText(`Start Date: ${start}`, 30, yPos);
                addText(`Completion Date: ${end}`, 30, yPos);
                addText(`Progress Notes: ${notes}`, 30, yPos);
                addText(`Success Measures: ${measures}`, 30, yPos);
                yPos += 5;
            });
            yPos += 15;

            // Resources and Support
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Resources and Support', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            addText('Potential Mentors/Networks:', 20, yPos);
            yPos = addText(formData.mentors || 'Not provided', 30, yPos);
            addText('Budget Allocation:', 20, yPos);
            yPos = addText(formData.budget || 'Not provided', 30, yPos);
            yPos += 15;

            // Progress Tracking
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Progress Tracking', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            addText(`30-day Review: ${formatDate(formData['review-30'])}`, 20, yPos);
            addText(`90-day Review: ${formatDate(formData['review-90'])}`, 20, yPos);
            addText(`Mid-point Review: ${formatDate(formData['review-mid'])}`, 20, yPos);
            addText(`Final Review: ${formatDate(formData['review-final'])}`, 20, yPos);
            addText('Reflection Notes:', 20, yPos);
            yPos = addText(formData.reflection || 'Not provided', 30, yPos);
            yPos += 15;

            // Risk Assessment
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Risk Assessment and Mitigation', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            addText('If no promotion:', 20, yPos);
            yPos = addText(formData['no-promotion'] || 'Not provided', 30, yPos);
            addText('If no mentor:', 20, yPos);
            yPos = addText(formData['no-mentor'] || 'Not provided', 30, yPos);
            addText('If job loss:', 20, yPos);
            yPos = addText(formData['job-loss'] || 'Not provided', 30, yPos);
            yPos += 15;

            // Additional Notes
            doc.setFontSize(16);
            doc.setTextColor('#1e3a8a');
            addText('Additional Notes', 20, yPos);
            yPos += 10;
            doc.setFontSize(12);
            doc.setTextColor('#000000');
            addText('Challenges/Obstacles:', 20, yPos);
            yPos = addText(formData.challenges || 'Not provided', 30, yPos);
            addText('Motivation/Inspiration:', 20, yPos);
            yPos = addText(formData.motivation || 'Not provided', 30, yPos);

            doc.save('career_transition_plan.pdf');
            showNotification('PDF exported successfully', 'success');
        } catch (error) {
            showNotification('Error exporting to PDF', 'error');
            console.error('PDF export error:', error);
        }
    }

    function generatePDF() {
        try {
            const formData = getFormData();
            let content = `
                <h1>Career Transition Plan</h1>
                <h2>Personal Information</h2>
                <p><strong>Name:</strong> ${formData.name}</p>
                <p><strong>Role:</strong> ${formData.role}</p>
                <p><strong>Industry:</strong> ${formData.industry}</p>
                <p><strong>Period:</strong> ${formatDate(formData['start-date'])} to ${formatDate(formData['end-date'])}</p>
                
                <h2>Career Goals</h2>
                <p><strong>Short-term:</strong> ${formData['short-term']}</p>
                <p><strong>Long-term:</strong> ${formData['long-term']}</p>
                <p><strong>Core Values:</strong> ${formData['core-values'].join(', ')}</p>
                <p><strong>Elevator Pitch:</strong> ${formData['elevator-pitch']}</p>
                <p><strong>Stop Doing:</strong> ${formData['stop-doing']}</p>
            `;

            content += `<h2>Skills Assessment</h2><table><thead><tr><th>Current Skills</th><th>Proficiency</th><th>Skills to Develop</th><th>Priority</th></tr></thead><tbody>`;
            document.querySelectorAll('#skills-table tbody tr').forEach(row => {
                const cells = row.cells;
                content += `<tr><td>${cells[0].querySelector('input').value}</td><td>${cells[1].querySelector('select').value}</td><td>${cells[2].querySelector('input').value}</td><td>${cells[3].querySelector('select').value}</td></tr>`;
            });
            content += `</tbody></table>`;

            content += `<h2>Learning and Development Plan</h2>`;
            document.querySelectorAll('#skills-container .skill-section').forEach((skill, i) => {
                content += `
                    <h3>Skill ${i+1}: ${skill.querySelector('h3 input').value}</h3>
                    <p><strong>Activity:</strong> ${skill.querySelector('div:nth-child(2) input').value}</p>
                    <p><strong>Resources:</strong> ${skill.querySelector('div:nth-child(3) input').value}</p>
                    <p><strong>Time:</strong> ${skill.querySelector('div:nth-child(4) input').value}</p>
                    <p><strong>Start:</strong> ${formatDate(skill.querySelector('div:nth-child(5) input').value)}</p>
                    <p><strong>End:</strong> ${formatDate(skill.querySelector('div:nth-child(6) input').value)}</p>
                    <p><strong>Notes:</strong> ${skill.querySelector('div:nth-child(7) textarea').value}</p>
                    <p><strong>Measures:</strong> ${Array.from(skill.querySelector('div:nth-child(8) select').selectedOptions).map(opt => opt.value).join(', ')}</p>
                `;
            });

            content += `
                <h2>Resources and Support</h2>
                <p><strong>Mentors:</strong> ${formData.mentors}</p>
                <p><strong>Budget:</strong> ${formData.budget}</p>
                
                <h2>Progress Tracking</h2>
                <p><strong>30-day:</strong> ${formatDate(formData['review-30'])}</p>
                <p><strong>90-day:</strong> ${formatDate(formData['review-90'])}</p>
                <p><strong>Mid-point:</strong> ${formatDate(formData['review-mid'])}</p>
                <p><strong>Final:</strong> ${formatDate(formData['review-final'])}</p>
                <p><strong>Reflection:</strong> ${formData.reflection}</p>
                
                <h2>Risk Assessment</h2>
                <p><strong>No Promotion:</strong> ${formData['no-promotion']}</p>
                <p><strong>No Mentor:</strong> ${formData['no-mentor']}</p>
                <p><strong>Job Loss:</strong> ${formData['job-loss']}</p>
                
                <h2>Additional Notes</h2>
                <p><strong>Challenges:</strong> ${formData.challenges}</p>
                <p><strong>Motivation:</strong> ${formData.motivation}</p>
            `;

            const preview = document.getElementById('pdf-preview');
            preview.innerHTML = content;
            preview.style.display = 'block';
            setTimeout(() => {
                window.print();
                preview.style.display = 'none';
            }, 100);
        } catch (error) {
            showNotification('Error generating preview', 'error');
            console.error('Preview error:', error);
        }
    }

    function addSkillRow() {
        try {
            const table = document.querySelector('#skills-table tbody');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><input type="text" placeholder="e.g., Project Management"></td>
                <td><select>
                    <option value="1">1 - Beginner</option>
                    <option value="2">2 - Elementary</option>
                    <option value="3">3 - Intermediate</option>
                    <option value="4">4 - Advanced</option>
                    <option value="5">5 - Expert</option>
                </select></td>
                <td><input type="text" placeholder="e.g., AI for Project Managers"></td>
                <td><select>
                    <option value="High">High</option>
                    <option value="Medium">Medium</option>
                    <option value="Low">Low</option>
                </select></td>
                <td><button class="remove-button" onclick="this.parentNode.parentNode.remove()">Remove</button></td>
            `;
            table.appendChild(row);
        } catch (error) {
            showNotification('Error adding skill row', 'error');
            console.error('Add skill row error:', error);
        }
    }

    function addSkill() {
        try {
            const container = document.getElementById('skills-container');
            const count = container.children.length + 1;
            const div = document.createElement('div');
            div.className = 'skill-section';
            div.innerHTML = `
                <h3>Skill ${count}: <input type="text" placeholder="Enter skill name"></h3>
                <div><label>Learning Activity:</label><input type="text"></div>
                <div><label>Resources Needed:</label><input type="text"></div>
                <div><label>Estimated Time:</label><input type="text" placeholder="e.g., 10 hours"></div>
                <div><label>Start Date:</label><input type="date"></div>
                <div><label>Completion Date:</label><input type="date"></div>
                <div><label>Progress Notes:</label><textarea></textarea></div>
                <div><label>Success Measures:</label>
                    <select multiple>
                        <option value="pass">Pass assessment</option>
                        <option value="Complete">Complete project</option>
                        <option value="Certification">Earn certification</option>
                        <option value="feedback">Positive feedback</option>
                    </select>
                </div>
                <button class="remove-button" onclick="removeSkill(this)">Remove Skill</button>
            `;
            container.appendChild(div);
        } catch (error) {
            showNotification('Error adding skill', 'error');
            console.error('Add skill error:', error);
        }
    }

    function removeSkill(button) {
        try {
            const section = button.parentNode;
            section.parentNode.removeChild(section);
            const sections = document.querySelectorAll('.skill-section');
            sections.forEach((sec, i) => {
                sec.querySelector('h3').innerHTML = `Skill ${i+1}: <input type="text" placeholder="Enter skill name" value="${sec.querySelector('input').value}">`;
            });
        } catch (error) {
            showNotification('Error removing skill', 'error');
            console.error('Remove skill error:', error);
        }
    }

    document.getElementById('fileInput').addEventListener('change', (e) => {
        try {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (ev) => {
                try {
                    const data = JSON.parse(ev.target.result);
                    setFormValues(data);
                    showNotification('Import successful', 'success');
                } catch (error) {
                    showNotification('Invalid JSON file', 'error');
                    console.error('Import parse error:', error);
                }
            };
            reader.onerror = () => showNotification('Error reading file', 'error');
            reader.readAsText(file);
        } catch (error) {
            showNotification('Error handling import', 'error');
            console.error('Import error:', error);
        }
    });

    document.addEventListener('DOMContentLoaded', () => {
        try {
            const today = new Date();
            const sixMonths = new Date(today.setMonth(today.getMonth() + 6));
            document.getElementById('start-date').valueAsDate = new Date();
            document.getElementById('end-date').valueAsDate = sixMonths;
            addSkillRow();
            loadForm();
        } catch (error) {
            showNotification('Error initializing form', 'error');
            console.error('Init error:', error);
        }
    });
</script>
</body>
</html>